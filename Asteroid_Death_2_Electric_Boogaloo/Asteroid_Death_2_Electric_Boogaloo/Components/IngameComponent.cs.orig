using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;
using Microsoft.Xna.Framework.Media;

using Asteroid_Death_2_Electric_Boogaloo.Enums;

namespace Asteroid_Death_2_Electric_Boogaloo.Components
{
    public class InGameComponent : AsteroidsComponent
    {
        #region Private fields
        private bool hasaddedgameobjetcs, volume;
        private SpriteFont menuFont, buttonFont;
        private Texture2D Button;
        private AsteroidsGame _Game;
        private MouseState oldState;
        private GamePadState lastgamePadState;
        private Song song;
        #endregion

        #region Public static properties
        public static bool Playing { get; set; }
        #endregion

        #region Public constructors
        public InGameComponent(Game game) : base(game)
        {
            _Game = (AsteroidsGame)game;
            DrawableStates = GameState.InGame;
            UpdatableStates = GameState.InGame;
            volume = false;
            Playing = false;
            MediaPlayer.IsRepeating = true;
        }
        #endregion

        #region Protected overrides
        protected override void LoadContent()
        {
            song = Game.Content.Load<Song>("InGame");
            base.LoadContent();
        }
        #endregion

        #region Public overrides
        public override void Update(GameTime gameTime)
        {
<<<<<<< HEAD:Asteroid_Death_2_Electric_Boogaloo/Asteroid_Death_2_Electric_Boogaloo/Components/InGameComponent.cs
            if (volume == false)
            {
                MediaPlayer.Volume = 0.6f;
                volume = true;
            }
            if (Playing == false)
=======
            
            if (playing == false)
>>>>>>> 0f1158ae13a79813160c454b8afcd4b5592348c6:Asteroid_Death_2_Electric_Boogaloo/Asteroid_Death_2_Electric_Boogaloo/Devices/IngameComponent.cs
            {
                MediaPlayer.Stop();
                MediaPlayer.Play(song);

                Playing = true;
            }

            if (Input.Instance.ClickPause())
            {
                _Game.ChangeGameState(GameState.Paused);
                volume = false;
            }
            base.Update(gameTime);
        } 
        #endregion
    }
}